<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>배열연습1</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    'use strict';
    // 배열선언 : new Array();
    const arr1 = new Array(); // java : int[] arr1 = new int[5];
    const fruits = ["사과","배","바나나","딸기","수박"]; // java : String[] fruits = {"사과","배","바나나","딸기","수박"};
    
    document.write("1. " + fruits + "<br/>");
    document.write("2. " + fruits.length + "<br/>");
    document.write("3. " + fruits[0] + "<br/>");
    document.write("4. " + fruits[fruits.length-1] + "<br/><br/>");

    // 향상된 for문
    document.write("향상된 for문(of,요소명 추출) : <br/>");
    // let cnt = 5;
    for(let fruit of fruits) { //of 연산자중간에 사용 // in과 of의 차이 : in- index번호 of- 요소
      // document.write(cnt + "." + fruit + " / ");
      document.write(fruit + " / ");
      // cnt++;
    }
    document.write("<br/><br/>");

    document.write("향상된 for문(in,인덱스번호 추출) : <br/>");
    for(let fruit in fruits) { //of 연산자중간에 사용 // in과 of의 차이 : in- index번호 of- 요소
      document.write(fruit + " / ");
    }
    document.write("<br/><br/>");

    //객체변수:fruits 요소변수,매개변수:fruit
    // forEach문 : 객체명.forEach(요소변수,인덱스,객체변수(배열명변수)); 객체에 들어있는 갯수만큼 반복한다.
    fruits.forEach(function() {
      document.write("값 : " + " / ");
    });
    document.write("<br/><br/>");

    fruits.forEach(function(fruit, index, array) { //array=fruits
      document.write("값 : " + fruit + " / ");
    });
    document.write("<br/><br/>");

    fruits.forEach(function(fruit, index) { //array=fruits
      document.write(index + " : " + fruit + " / ");
    });
    document.write("<br/><br/>");

    fruits.forEach(function(fruit, index, array) { //array=fruits
      document.write(index + " : " + fruit + " / " + array + "<br/>");
    });
    document.write("<br/><br/>");

    // 일반적으로 요소만 추출할 경우는?
    fruits.forEach(function(fruit) { //array=fruits
      document.write(fruit + " / ");
    });
    document.write("<br/><br/>");

    // 익명함수를 arrow function으로 변경하여 사용할 수 있다.
    // 객체명.forEach(() => {});
    fruits.forEach((fruit, i) => { //요소변수, 인덱스
      document.write(i + " : " + fruit + " / ");
    });
    document.write("<br/><br/>");

    fruits.forEach((fruit, i) => document.write(i + " : " + fruit + " / "));
    document.write("<br/><hr/><br/>");
    
    // 반복문 : for, while, forEach, map
    // map(요소변수명, 인덱스, 배열명)
    document.write("map 형식 출력<br/>");
    fruits.map(function(fruit, i) {
      document.write(i + " : " + fruit + " / ");
    });
    document.write("<br/><br/>");
    fruits.map((fruit, i) => document.write(i + " : " + fruit + " / ")); // arrow function으로 변경
    document.write("<br/><hr/><br/>");



    /*-------------------------------------------------------------- */
    document.write("배열에 요소를 '추가','삭제'<br/>");

    // 배열요소추가(push()는 자료추가를 뒤로 추가함, unshift()는 자료추가를 앞에서 부터 추가함.)
    fruits.push("포도");
    document.write("11 : " + fruits + "<br/><br/>");

    fruits.push("토마토", "키위", "자두");
    document.write("12 : " + fruits + "<br/><br/>");

    fruits.unshift("망고","살구");
    document.write("13 : " + fruits + "<br/><br/>");

    // 배열의 요소 삭제 (pop()는 자료삭제를 뒤에서부터 끄집어내 삭제함. , shift()는 앞에서부터 삭제한다.)
    fruits.pop();
    fruits.pop();
    document.write("14 : " + fruits + "<br/><br/>");

    fruits.shift();
    fruits.shift();
    document.write("15 : " + fruits + "<br/><br/>");

    // 특정위치의 요소를 삭제/추가 : 삭제 : splice(인덱스번호, 요소개수) / splice(인덱스번호, 요소개수, 추가시킬항목리스트)
    fruits.splice(2, 1); //2번에서부터 1개를 지워라. // 3개지우면 2번에서부터 3개 바나나 딸기 수박
    document.write("16 : " + fruits + "<br/><br/>");    
    
    fruits.splice(2, 1, "자몽","옥수수"); //추가 덮어쓰기됨
    document.write("17 : " + fruits + "<br/><br/>");

    fruits.splice(3, 0, "앵두"); //자몽과 옥수수 사이에 앵두를 넣기. 3번째자리에 0
    document.write("18 : " + fruits + "<br/><br/>");

    // 지정요소를 추출 : slice(인덱스번호)
    let imsiFruits = fruits.slice(2,3)  // 인덱스 2번지 요소를 추출 (2,3)= 2번지부터 3번지앞까지,즉 2번지만 추출한다
    document.write("19 : " + imsiFruits + "<br/><br/>");

    imsiFruits = fruits.slice(2,fruits.length)  // 인덱스 2번지 요소에서 마지막 요소까지 모두 추출
    document.write("20 : " + imsiFruits + "<br/><br/>");

    imsiFruits = fruits.slice(2)  // 인덱스 2번지 요소에서 마지막 요소까지 모두 추출 (앞의 요소 하나만 적어도 마지막까지 추출됨)
    document.write("21 : " + imsiFruits + "<br/><br/>");

    // 두개의 배열을 묶어서 작업 : concat()
    document.write("fruits : " + fruits + "<br/>");

    // fruits의 요소중, 2번지부터 4번지 앞의 요소까지 추출(즉, 2번지와 3번지의 요소만 추출)
    imsiFruits = fruits.slice(2,4);
    document.write("imsiFruits : " + imsiFruits + "<br/>");

    // fruits와 imsiFruits를 결합하여 concatFruits변수에 담으시오.
    const concatFruits = fruits.concat(imsiFruits);
    document.write("22 : " + concatFruits + "<br/><br/>");

    // 배열안의 요소 검색 : indexOf() : 있으면 위치값, 없으면 -1 반환 / includes() : 있으면 true, 없으면 false
    // 배열요소중 '옥수수'가 있으면 인덱스번호를 출력하시오
    document.write("22 : " + concatFruits.indexOf("자몽") + "<br/><br/>");
    document.write("23 : " + concatFruits.includes("자몽") + "<br/><br/>");
    document.write("24 : " + concatFruits.indexOf("자뭉") + "<br/><br/>");
    document.write("25 : " + concatFruits.includes("자뭉") + "<br/><br/>");

    // 배열안의 요소 검색 : lastIndexOf() : 뒤에서부터 검색한다. 있으면 위치값, 없으면 -1 반환
    document.write("26 : " + concatFruits.lastIndexOf("자몽") + "<br/><br/>");
    document.write("27 : " + concatFruits.lastIndexOf("자뭉") + "<br/><br/>");
    document.write("<br/><br/>");

    // filter(요소변수, 인덱스번호) : 지정된 수식으로 배열요소를 걸러서 추출한다.
    document.write("28. : ");
    fruits.filter(function(item, index) {
      document.write("index : " + index + " : " + item + " / ");
    });
    document.write("<br/><br/>")

    // let res = fruits.filter(function(item, index) {
    //   index % 2 == 0;
    // });
    // document.write("29. res : " + res);    
    let res = fruits.filter((item, index) => index % 2 == 0); // 조건에서 참인경우만 필터링. 2로 나눈 나머지가 0인 데이터만(인덱스번호).
    document.write("29. res : " + res);
    

  </script>
</head>
<body>
<p><br/></p>
<div class="container">
  <hr/>
  <h2>배열연습</h2>
  <p>
    
  </p>
  <hr/>
  <div id="demo"></div>
</div>
<p><br/></p>
</body>
</html>